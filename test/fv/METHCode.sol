// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import {Test} from "forge-std/Test.sol";
import {HuffDeployer} from "smol-huff-deployer/HuffDeployer.sol";
import {IMETH} from "src/interfaces/IMETH.sol";

/// @author philogy <https://github.com/philogy>
abstract contract METHCode is Test {
    uint256 internal constant GENERAL_DEPLOYER = 0x600b80380380913d393df3;
    uint256 internal constant DEPLOYER_LEN = 11;

    bytes internal constant METH_DEPLOY_CODE =
        hex"600b80380380913d393df33d3560e01c8060121c603f175600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b36613fff5733543401335533343d527fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c601080a200000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63023809ba0334176370a08231595259305952346024601c735d9518e067e84d23aa465f6aeb5173c9bd1a72ea5afa116100f7573434fd5b34517401000000000000000000000000000000000000000060103560601c8154830381548101825534527feaebb572b44f77b25b4fede0ff33346b375fb6f25aa893d3a1f83d098ac197e3601080a255000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b6306fdde03033417613fff5760806140e134395934f300000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63095ea7b3033417613fff5760243560103560601c81345280337f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9255934a333345259525934205500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b6318160ddd033417613fff574734525934f30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63205c2878033417343434602435803354349681831117613fff57033355338134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a26004355af1610897573d34343e3d34fd5b0000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b6323b872dd03341760103560601c60443560303560601c823452335952593420805480341a614003579485841117948390039055818354829581831117613fff57038355548101835534527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef602034a30000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b6328026ace03607f5733543401335533343d527fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c601080a260243560103560601c813d5280337f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925593da3333d525952593d20550000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b632e1a7d4d033417343434600435803354349681831117613fff57033355338134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a2335af1610c15573d34343e3d34fd5b00000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63313ce567033417613fff57601234525934f300000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b634a4089cc03341734343460443560103560601c803452335952593420805480341a61409357968784111796839003905580549586831117613fff578134960381558134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a26024355af161133a573d34343e3d34fd5b000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b6370a08231033417613fff5760103560601c5434525934f30000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63853828b6033417613fff57343434343354343355338134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a2335af16121cc573d34343e3d34fd5b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b639470b0bd14341034343460243560103560601c803452335952593420805480341a61404357968784111096839003905580549586831110614054573434fd5b6395d89b41033417613fff57602034527f044d455448000000000000000000000000000000000000000000000000000000603f525934f300000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63a9059cbb0334173360243560103560601c813354829581831117613fff57038355548101835534527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef5934a300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63adfd411c033417613fff577312121212121212121212121212121212121212123454305482347fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef848330838734525934a334525934a3018154019055343455343055000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63b760faf903607f5760103560601c805434018155343d527fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c601080a200005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63ca9add8f033417613fff57343434343354343355338134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a26004355af161330e573d34343e3d34fd5b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63d0e30db003607f5733543401335533343d527fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c601080a2000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b63dd62ed3e033417613fff5760346010600c37593420543452602034f3000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005b3d3dfd5b5050818354829581831117613fff57038355548101835534527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef602034a3005b505080549586831110614054573434fd5b8134960381558134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a2335af1614091573d34343e3d34fd5b005b505080549586831117613fff578134960381558134527f7fcf532c15f0a6db0bd6d0e038bea71d30d808c7d98cb3bf7268a95bf5081b65601080a26024355af16140df573d34343e3d34fd5b00000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000214d6178696d616c6c7920456666696369656e74205772617070656420457468657200000000000000000000000000000000000000000000000000000000000000";

    function testValidMETHCode() public {
        bytes memory fullDeploy = (new HuffDeployer()).getBytecode("src/METH_WETH.huff", new string[](0));
        /// @solidity memory-safe-assembly
        assembly {
            let codePtr := add(fullDeploy, 0x20)
            let length := mload(fullDeploy)
            let codeEnd := add(codePtr, length)

            for {} lt(codePtr, codeEnd) { codePtr := add(codePtr, 1) } {
                let op := byte(0, mload(codePtr))
                // RETURN
                if eq(op, 0xf3) { break }
                // Skip PUSH literals
                if lt(sub(op, 0x60), 0x20) { codePtr := add(codePtr, sub(op, 0x5f)) }
            }
            mstore(sub(codePtr, 31), GENERAL_DEPLOYER)

            let moved := add(sub(codePtr, add(fullDeploy, 0x20)), 1)
            let newLength := add(sub(length, moved), DEPLOYER_LEN)
            fullDeploy := sub(sub(codePtr, 31), DEPLOYER_LEN)
            mstore(fullDeploy, newLength)
        }
        assertEq(METH_DEPLOY_CODE, fullDeploy);
    }

    function _deployMETH() internal returns (IMETH meth) {
        bytes memory codeInMem = METH_DEPLOY_CODE;

        assembly {
            meth := create(0, add(codeInMem, 0x20), mload(codeInMem))
        }
    }
}
